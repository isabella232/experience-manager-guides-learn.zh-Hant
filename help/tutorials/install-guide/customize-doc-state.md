---
title: 設定檔案狀態
description: 瞭解如何設定檔案狀態
source-git-commit: 880cd344ceb65ea339be699ebcad41c0d62e168a
workflow-type: tm+mt
source-wordcount: '1131'
ht-degree: 0%

---

# 設定檔案狀態 {#id181GB0400UI}

AEM Guides可讓您根據組織的需求，為DITA主題定義檔案狀態。 您可以從頭到尾定義檔案的不同狀態。 例如，第一個狀態可以是「草稿」，可以移至「稽核」、「已核准」、「已翻譯」，最後移至「已發佈」。

主題可以從一種狀態轉換到另一種狀態的方式有兩種：手動和自動。 在設定檔中定義的檔案狀態可用於手動變更檔案狀態。 您可以從主題檔案的「屬性」頁面進行這項作業。 您也可以定義誰可以將檔案從一個狀態移動到另一個狀態。 例如，作者可以建立檔案，而檔案的預設狀態可以是「草稿」。 當作者傳送檔案以供稽核時，她可以將檔案狀態變更為稽核中。 稽核者可以根據稽核程式將檔案狀態變更為「已核准」或再次變更為「草稿」。 如果檔案已核准，發佈者可以根據工作流程將檔案狀態變更為已翻譯或已發佈。

>[!NOTE]
>
> 如果使用者屬於 *管理員* 組時，使用者可以從任何狀態變更檔案的狀態，而不管系統中定義的檔案狀態轉換。

## 建立檔案狀態

AEM Guides隨附一組預設的檔案狀態。 這些狀態包括：

- 草稿
- 編輯
- 稽核中
- 已核准
- 已檢閱
- 完成

這些預設狀態適用於在DAM下建立的所有DITA主題。 您可以建立自己的檔案狀態，並將這些狀態指派給特定資料夾。 然後，在該資料夾下建立的所有DITA檔案將擁有新建立檔案狀態的存取權。

若要使用「資料夾設定檔」建立檔案狀態，請執行下列步驟：

1. 按一下頂端的Adobe Experience Manager連結，然後選擇 **工具**.
1. 選取 **指南** 工具清單中。
1. 按一下「檔案狀態」圖磚。

   資產狀態頁面隨即顯示。 依預設，頁面會顯示預設的設定檔。

1. 按一下 **建立設定檔** 並輸入下列明細：
   - 在「設定檔」欄位中輸入設定檔的名稱。
   - 指定您要套用新設定檔的路徑。
   - 在「 」中指定檔案的狀態 **允許的狀態** 在 **狀態**. 預設檔案狀態為「草稿」、「編輯」、「稽核中」、「已核准」和「完成」。-

     按一下 **新增** 按鈕以新增檔案狀態。

      - 按一下「刪除」圖示可刪除檔案狀態。

     >[!NOTE]
     >
     > 如果檔案仍然處於狀態，請勿刪除檔案狀態。 如果您刪除檔案狀態，您將無法變更此類檔案的檔案狀態，除非您屬於 *管理員* 使用者群組。

   - 在「 」中指定檔案的開始狀態 **開始狀態**.
   - 在「 」中指定檔案的結束狀態 **結束狀態**.
   - 在中指定檔案的狀態轉移 **從** 和 **至** 在 **狀態轉換**.

      - 指定可在下列位置變更檔案狀態的使用者和使用者群組： **群組**.

      - 按一下 **新增** 按鈕以新增狀態轉換。

      - 按一下「刪除」圖示以刪除狀態轉換。

     >[!NOTE]
     >
     > 如果檔案仍在中，請勿刪除狀態轉換 `From` 州別。 如果您刪除狀態轉移，您將無法變更此類檔案的檔案狀態，除非您屬於 *管理員* 使用者群組。

1. 按一下&#x200B;**「完成」**。

## 建立檔案狀態設定檔的復本

您可以視需要建立現有檔案狀態設定檔的復本。 您可以使用副本作為建立其他檔案設定檔的基礎。

若要建立檔案狀態設定檔的復本，請執行下列步驟：

1. 按一下頂端的Adobe Experience Manager連結，然後選擇 **工具**.
1. 選取 **指南** 工具清單中。
1. 按一下「檔案狀態」圖磚。

   資產狀態頁面隨即顯示。

1. 選取要複製的檔案狀態設定檔，然後按一下 **重複的設定檔**.
1. 進行必要的變更，然後按一下 **完成**.

## 刪除檔案狀態或狀態轉換

>[!NOTE]
>
> 如果檔案仍在狀態或狀態轉換中，請勿刪除檔案狀態或狀態轉換。 如果您刪除狀態或狀態轉移，您將無法變更此類檔案的檔案狀態，除非您屬於 *管理員* 使用者群組。

執行下列步驟，從檔案狀態設定檔中刪除檔案狀態或狀態轉移：

1. 按一下頂端的Adobe Experience Manager連結，然後選擇 **工具**.
1. 選取 **指南** 工具清單中。
1. 按一下「檔案狀態」圖磚。

   資產狀態頁面隨即顯示。

1. 選取您要從中刪除檔案狀態的檔案狀態設定檔，然後按一下 **編輯設定檔**.
1. 刪除檔案狀態或狀態轉換，然後按一下 **完成**.

## 刪除檔案狀態設定檔

若要刪除檔案狀態設定檔，請執行下列步驟：

1. 按一下頂端的Adobe Experience Manager連結，然後選擇 **工具**.
1. 選取 **指南** 工具清單中。
1. 按一下「檔案狀態」圖磚。

   資產狀態頁面隨即顯示。

1. 選取要刪除的檔案狀態設定檔，然後按一下 **刪除設定檔**.

## 自動化檔案狀態變更

如果您不想手動變更檔案狀態，您可以建立工作流程並自動變更檔案狀態。

>[!NOTE]
>
> 自動化工作流程應與設定中定義的檔案狀態和轉變一致。 系統不會執行任何透過自動化工作流程進行的狀態變更檢查。

執行以下步驟來自動變更檔案狀態：

1. 從AEM伺服器URL開啟工作流程頁面。

   `<AEM_Server_URL>:<port>/workflow`

1. 從工作流程頁面開啟工作流程。 例如，檢閱主題。
1. 選取 **程式步驟** 從 **工作流程** 區段，並拖放至AEM工作流程上。

   ![](assets/process-step-workflow.png)

1. 連按兩下流程並開啟 **步驟屬性** 對話方塊。
1. 在「 」中輸入下列詳細資料 **程式** 標籤並按一下「確定」：
   - 選取 **設定任何DAM資產的檔案狀態** 從「程式」下拉式清單。
   - 選取處理常式進階核取方塊。
   - 輸入檔案狀態的名稱，在 **引數** 文字方塊。

     >[!NOTE]
     >
     > 請務必在「引數」文字方塊中輸入正確的檔案狀態。 如果您輸入錯誤的名稱，檔案將會設定為錯誤的檔案狀態。

1. 按一下 **儲存** 以儲存工作流程。

## 啟用核准工作流程

AEM Guides提供檔案核准工作流程，可協助您控制檔案開發流程的生命週期。 若要啟用核准工作流程，請執行下列步驟：

1. 登入AEM並開啟CRXDE Lite模式。

1. 導覽至下列位置可用的預設組態檔：

   `/libs/fmdita/clientlibs/clientlibs/xmleditor/ui_config.json`

1. 在下列位置建立預設組態檔案的復本：

   `/apps/fmdita/xmleditor/ui_config.json`

1. 導覽至並開啟 `ui_config.json` 中的檔案 `apps` 節點進行編輯。

1. 在 `ui_config.json` 檔案，透過變更核准工作流程來啟用核准工作流程功能 *功能* 區段如下所示：

   ```json
   "features":  
   { 
      "approvalWorkflow":  true 
   }
   ```
